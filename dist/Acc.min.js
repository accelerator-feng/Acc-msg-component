!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Acc=n():t.Acc=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){"use strict";function e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),c=function(){function t(){o(this,t),this.boundingBox=null}return r(t,[{key:"on",value:function(t,n){return"undefined"==typeof this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(n),this}},{key:"fire",value:function(t,n){if(this.handlers[t]instanceof Array)for(var e=this.handlers[t],i=0,o=e.length;i<o;i++)e[i](n)}},{key:"rendUI",value:function(){}},{key:"bindUI",value:function(){}},{key:"syncUI",value:function(){}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;this.rendrUI(),this.handlers={},this.bindUI(),this.syncUI(),t.appendChild(this.boundingBox)}},{key:"destructor",value:function(){}},{key:"destroy",value:function(){this.destructor(),document.body.removeChild(this.boundingBox)}}]),t}(),s=function(t){function n(){o(this,n);var t=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.config={width:300,title:"系统提示",content:"welcome!",textAlertBtn:"确定",textConfirmBtn:"确定",textCancelBtn:"取消",textPromptBtn:"确定",_promptInput:"",isPromptInputPassword:!1,defaultValuePromptInput:"",maxlengthPromptInput:10,handlerAlertBtn:null,handlerConfirmBtn:null,handlerCancelBtn:null,handlerPromptBtn:null,skinClassName:null,hasMask:!0,isDraggable:!0},t}return i(n,t),r(n,[{key:"rendrUI",value:function(){var t="";switch(this.config.type){case"alert":t="<input type=\"button\" class='Acc-alert-btn' value="+this.config.textAlertBtn+">";break;case"confirm":t="<input type=\"button\" class='Acc-confirm-btn' value="+this.config.textConfirmBtn+"><input type=\"button\" class='Acc-cancel-btn' value="+this.config.textCancelBtn+">";break;case"prompt":this.config.content+="<p class='Acc-body-prompt'>\n                        <input type="+(this.config.isPromptInputPassword?"password":"text")+" value="+this.config.defaultValuePromptInput+" maxlength="+this.config.maxlengthPromptInput+" class='Acc-prompt-input'>\n                    </p>",t="<input type='button' value="+this.config.textPromptBtn+" class='Acc-prompt-btn'>\n                    <input type='button' value="+this.config.textCancelBtn+" class='Acc-cancel-btn'>"}this.boundingBox=function(n){var e=document.createElement("div");return e.className="Acc-content",e.draggable=!0,e.innerHTML="<div class='Acc-header'>"+n.config.title+"</div>\n                              <div class='Acc-body'>"+n.config.content+"</div>\n                              <div class='Acc-footer'>\n                                   "+t+"\n                              </div>",e}(this),this._promptInput=this.boundingBox.querySelector(".Acc-prompt-input"),this.config.hasMask&&(this.mask=function(){var t=document.createElement("div");return t.className="Acc-mask",document.body.appendChild(t),t}())}},{key:"bindUI",value:function(){var t=this;this.boundingBox.addEventListener("click",function(n){switch(n.target.className){case"Acc-alert-btn":t.fire("alert"),t.destroy();break;case"Acc-confirm-btn":t.fire("confirm"),t.destroy();break;case"Acc-cancel-btn":t.fire("cancel"),t.destroy();break;case"Acc-prompt-btn":t.fire("prompt",t._promptInput.value),t.destroy()}}),this.config.handlerAlertBtn&&this.on("alert",this.config.handlerAlertBtn),this.config.handlerConfirmBtn&&this.on("confirm",this.config.handlerConfirmBtn),this.config.handlerCancelBtn&&this.on("cancel",this.config.handlerCancelBtn),this.config.handlerPromptBtn&&this.on("prompt",this.config.handlerPromptBtn)}},{key:"syncUI",value:function(){this.setWindow(this.config),this.config.skinClassName&&(this.boundingBox.className+=" "+this.config.skinClassName),this.config.isDraggable&&this.draggable(this.boundingBox)}},{key:"setWindow",value:function(t){var n=this.boundingBox.style;n.width=t.width+"px",n.height=t.height+"px",n.left=t.x||(window.innerWidth-t.width)/2+"px",n.top=t.y||(window.innerHeight-t.width)/2+"px"}},{key:"draggable",value:function(){var t=0,n=0,e=this.boundingBox;document.body.addEventListener("dragover",function(t){t.preventDefault()}),e.addEventListener("dragstart",function(i){t=i.pageX-e.offsetLeft,n=i.pageY-e.offsetTop}),e.addEventListener("dragend",function(i){e.style.left=i.pageX-t+"px",e.style.top=i.pageY-n+"px"})}},{key:"destructor",value:function(){this.mask&&document.body.removeChild(this.mask)}},{key:"alert",value:function(t){return t=Object.assign(this.config,t,{type:"alert"}),this.render(),this}},{key:"confirm",value:function(t){return t=Object.assign(this.config,t,{type:"confirm"}),this.render(),this}},{key:"prompt",value:function(t){return t=Object.assign(this.config,t,{type:"prompt"}),this.render(),this._promptInput.select(),this}}]),n}(c);n.default=s}])});