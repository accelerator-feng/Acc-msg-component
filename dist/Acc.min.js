!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Acc=e():t.Acc=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(){o(this,t),this.boundingBox=null}return r(t,[{key:"on",value:function(t,e){return"undefined"==typeof this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this}},{key:"fire",value:function(t,e){if(this.handlers[t]instanceof Array)for(var n=this.handlers[t],i=0,o=n.length;i<o;i++)n[i](e)}},{key:"rendUI",value:function(){}},{key:"bindUI",value:function(){}},{key:"syncUI",value:function(){}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;this.rendrUI(),this.handlers={},this.bindUI(),this.syncUI(),t.appendChild(this.boundingBox)}},{key:"destructor",value:function(){}},{key:"destroy",value:function(){this.destructor(),document.body.removeChild(this.boundingBox)}}]),t}(),s=function(t){function e(){o(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.config={width:500,height:300,title:"系统提示",content:"welcome!",textAlertBtn:"确定",textConfirmBtn:"确定",textCancelBtn:"取消",handlerAlertBtn:null,handlerConfirmBtn:null,handlerCancelBtn:null,skinClassName:null,hasMask:!0,isDraggable:!0},t}return i(e,t),r(e,[{key:"rendrUI",value:function(){var t="";switch(this.config.type){case"alert":t="<input type=\"button\" class='Acc-alert-btn' value="+this.config.textAlertBtn+">";break;case"confirm":t="<input type=\"button\" class='Acc-confirm-btn' value="+this.config.textConfirmBtn+"><input type=\"button\" class='Acc-cancel-btn' value="+this.config.textCancelBtn+">"}this.boundingBox=function(e){var n=document.createElement("div");return n.className="Acc-box",n.draggable=!0,n.innerHTML="<div class='Acc-header'>"+e.config.title+"</div>\n                              <div class='Acc-body'>"+e.config.content+"</div>\n                              <div class='Acc-footer'>\n                                   "+t+"\n                              </div>",n}(this),this.config.hasMask&&(this.mask=function(){var t=document.createElement("div");return t.className="Acc-mask",document.body.appendChild(t),t}())}},{key:"bindUI",value:function(){var t=this;this.boundingBox.addEventListener("click",function(e){switch(e.target.className){case"Acc-alert-btn":t.fire("alert"),t.destroy();break;case"Acc-confirm-btn":t.fire("confirm"),t.destroy();break;case"Acc-cancel-btn":t.fire("cancel"),t.destroy()}}),this.config.handlerAlertBtn&&this.on("alert",this.config.handlerAlertBtn),this.config.handlerConfirmBtn&&this.on("confirm",this.config.handlerConfirmBtn),this.config.handlerCancelBtn&&this.on("cancel",this.config.handlerCancelBtn)}},{key:"syncUI",value:function(){this.setWindow(this.config),this.config.skinClassName&&(this.boundingBox.className+=" "+this.config.skinClassName),this.config.isDraggable&&this.draggable(this.boundingBox)}},{key:"setWindow",value:function(t){this.boundingBox.style.width=t.width+"px",this.boundingBox.style.height=t.height+"px",this.boundingBox.style.left=t.x||(window.innerWidth-t.width)/2+"px",this.boundingBox.style.top=t.y||(window.innerHeight-t.width)/2+"px"}},{key:"draggable",value:function(){var t=0,e=0,n=this.boundingBox;document.body.addEventListener("dragover",function(t){t.preventDefault()}),n.addEventListener("dragstart",function(i){t=i.pageX-n.offsetLeft,e=i.pageY-n.offsetTop}),n.addEventListener("dragend",function(i){var o=i.pageX-t,r=i.pageY-e,c=document.documentElement.clientWidth,s=document.documentElement.clientHeight,a=c-n.offsetWidth,l=s-n.offsetHeight;o=Math.min(a,Math.max(0,o)),r=Math.min(l,Math.max(0,r)),n.style.left=o+"px",n.style.top=r+"px"})}},{key:"destructor",value:function(){this.mask&&document.body.removeChild(this.mask)}},{key:"alert",value:function(t){return t=Object.assign(this.config,t,{type:"alert"}),this.render(),this}},{key:"confirm",value:function(t){return t=Object.assign(this.config,t,{type:"confirm"}),this.render(),this}}]),e}(c);e.default=s}])});